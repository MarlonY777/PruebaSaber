<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
	<meta http-equiv="Content-Type" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resultados ICFES</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
	<link rel="stylesheet" type="text/css" th:href="@{/style.css}">
    <style>
.container {
    display: flex; /* Establece un contenedor flex */
    justify-content: center; /* Centra los elementos horizontalmente en el contenedor */
    flex-wrap: wrap; /* Permite que los elementos se envuelvan en la siguiente línea si no hay suficiente espacio */
    padding: 10px; /* Añade un poco de relleno alrededor del contenedor */
}

.card {
    width: 600px; /* Ajusta el ancho de las tarjetas */
    margin: 10px auto; /* Centra las tarjetas horizontalmente */
    padding: 20px;
    background-color: rgba(255, 255, 255, 0.9);
    border-radius: 10px;
}

        .custom-badge {
            color: rgb(0, 0, 0);
            font-size: 1rem;
            padding: 5px 10px;
            margin-right: 5px;
            border-radius: 20px;
        }

        .nivel-1 {
            background-color: #D50113;
        }

        .nivel-2 {
            background-color: #FFC400;
        }

        .nivel-3 {
            background-color: #FFF71E;
        }

        .nivel-4 {
            background-color: #00D147;
        }

        .badge-container {
            margin-top: 10px;
        }

        .badge-container>div {
            margin-bottom: 10px;
        }
		
		.resultado-final {
		    font-size: 1.2rem;
		    font-weight: bold;
		    margin-top: 20px;
		    text-align: center;
		    padding: 10px;
		    border-radius: 5px;
		    color: #fff;
			width: 200px;
		}

        
    </style>
</head>
<body>
	<header class="container-fluid pt-1 pb-1 d-flex justify-content-center">
			    <p class="text-light mb-0 p-2 fs-5">SPRING - Marlon Yesid Sánchez Moncada</p>
			</header>
			<nav class="navbar navbar-expand-lg navbar-dark p-3" id="menu">
			    <div class="container">
			        <a class="navbar-brand" href="#">
			            <img th:src="@{/java_logo_blanco.png}" alt="#">
			            <span class="ml-2 text-white fw-bold">Spring Framework + MicroServices</span>
			        </a>
			        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
			                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
			            <span class="navbar-toggler-icon"></span>
			        </button>
			        <div class="collapse navbar-collapse" id="navbarNav">
			            <ul class="navbar-nav ml-auto">
			                <!-- Agrega los elementos del menú aquí -->
							<li class="nav-item">
								<a class="nav-link" href="/">
							    	<img th:src="@{/home.png}" alt="Imagen 0" class="btn-img custom-size">
							    </a>
							</li>
			            </ul>
			        </div>
			    </div>
			</nav>


<div class="row justify-content-center mt-4 ">
	<img th:src="@{/Icfes.png}" alt="Icfes Logo" class="img-fluid mb-4 m-auto " style="width: 200px; height: auto;">
				<h2	class="text-center custom-header">Bienvenido [[${user.fullname}]]</h2>
				<h2 class="text-center custom-header">Resultado Estudiante</h2>
				<div class="d-flex justify-content-center">
					<a href="/login" class="btn btn-success btn-lg btn-back">
						<i class="bi bi-box-arrow-left"></i> Volver
					</a>
				</div>
</div>               
  <div class="container p-4">
    <div class="card ">
                <h2	class="text-center custom-header mb-4">TUS DATOS</h2>
                <table class="table table-hover">
                    <tr>
                        <td><strong>Tipo de Documento:</strong> [[${user.tipoDocumento}]]: [[${user.numDocumento}]]</td>
                    </tr>
                    <tr>
                        <td><strong>Teléfono:</strong> [[${user.numTelefono}]]</td>
                    </tr>
                    <tr>
                        <td><strong>Número de registro:</strong> [[${user.numRegister}]]</td>
                    </tr>
                    <tr>
                        <td><strong>Email:</strong> [[${user.email}]]</td>
                    </tr>
                </table>
            </div>
        </div>
  



  <div class="card">
    
        
                <h2>PUNTAJE GLOBAL DE COMPETENCIAS</h2>
                <div class="badge-container">
                    <div>
                        <strong>TU PUNTAJE:</strong>
                        <span class="badge rounded-pill custom-badge nivel-1" th:if="${user.PuntajeGlobal > '0' and user.PuntajeGlobal <= '125'}">[[${user.puntajeNivelGlobal}]]</span>
                        <span class="badge rounded-pill custom-badge nivel-2" th:if="${user.PuntajeGlobal > '125' and user.PuntajeGlobal <= '155'}">[[${user.puntajeNivelGlobal}]]</span>
                        <span class="badge rounded-pill custom-badge nivel-3" th:if="${user.PuntajeGlobal > '155' and user.PuntajeGlobal <= '190'}">[[${user.puntajeNivelGlobal}]]</span>
                        <span class="badge rounded-pill custom-badge nivel-4" th:if="${user.PuntajeGlobal > '190'}">[[${user.puntajeNivelGlobal}]]</span>
                        <span>[[${user.PuntajeGlobal}]]</span>
                    </div>
                </div>
				<!-- Casilla extra para comparar puntaje con la media -->
								    
            </div>
     

 <div class="card">
    <h2 class="text-center">PUNTAJE EN TODAS LAS COMPETENCIAS</h2>
    <div class="badge-container">
        <div>
            <strong>Comunicación escrita</strong>
            <div>
                <span class="badge rounded-pill custom-badge nivel-1"
                    th:if="${user.comunicacionEscrita > '0' and user.comunicacionEscrita <='125'}"
                    >[[${user.comunicacionEscritaNivel}]]
                </span>
                <span  class="badge rounded-pill custom-badge nivel-2"
                    th:if="${user.comunicacionEscrita > '125' and user.comunicacionEscrita <= '155'}"
                    >[[${user.comunicacionEscritaNivel}]]
                    : </span>
                <span  class="badge rounded-pill custom-badge nivel-3"
                    th:if="${user.comunicacionEscrita > '155' and user.comunicacionEscrita <= '190'}"
                    >[[${user.comunicacionEscritaNivel}]]
                    : </span>
                <span  class="badge rounded-pill custom-badge nivel-4" th:if="${user.comunicacionEscrita > '190'}"
                    >[[${user.comunicacionEscritaNivel}]]
                    : </span>
                [[${user.comunicacionEscrita}]]
            </div>
        </div>
        
        <div >
            <strong>Razonamiento cuantitativo</strong>
            <div>
                <span  class="badge rounded-pill custom-badge nivel-1"
                    th:if="${user.razonamientoCuantitativo > '0' and user.razonamientoCuantitativo <= '125'}"
                    style=>[[${user.razonamientoCuantitativoNivel}]]
                    : </span>
                <span  class="badge rounded-pill custom-badge nivel-2"
                    th:if="${user.razonamientoCuantitativo > '125' and user.razonamientoCuantitativo <= '155'}"
                    style=>[[${user.razonamientoCuantitativoNivel}]]
                    : </span>
                <span  class="badge rounded-pill custom-badge nivel-3"
                    th:if="${user.razonamientoCuantitativo > '155' and user.razonamientoCuantitativo <= '190'}"
                    style=>[[${user.razonamientoCuantitativoNivel}]]
                    : </span>
                <span  class="badge rounded-pill custom-badge nivel-4" th:if="${user.razonamientoCuantitativo > ' 190'}"
                    style=>[[${user.razonamientoCuantitativoNivel}]]
                    : </span>
                [[${user.razonamientoCuantitativo}]]
            </div>
        </div>
        
        <div >
            <strong>Lectura crítica</strong>
            <div>
                <span  class="badge rounded-pill custom-badge nivel-1"
                    th:if="${user.lecturaCritica > '0' and user.lecturaCritica <= '125'}"
                    style=>[[${user.lecturaCriticaNivel}]]
                    : </span>
                <span  class="badge rounded-pill custom-badge nivel-2"
                    th:if="${user.lecturaCritica > '125' and user.lecturaCritica <= '155'}"
                    style=>[[${user.lecturaCriticaNivel}]]
                    : </span>
                <span  class="badge rounded-pill custom-badge nivel-3"
                    th:if="${user.lecturaCritica > '155' and user.lecturaCritica <= '190'}"
                    style=>[[${user.lecturaCriticaNivel}]]
                    : </span>
                <span  class="badge rounded-pill custom-badge nivel-4" th:if="${user.lecturaCritica > '190'}"
                    style=>[[${user.lecturaCriticaNivel}]]
                    : </span>
                [[${user.lecturaCritica}]]
            </div>
        </div>
        
        <div >
            <strong>Competencias ciudadanas</strong>
            <div>
                <span  class="badge rounded-pill custom-badge nivel-1"
                    th:if="${user.competenciasCiudadanas > '0' and user.competenciasCiudadanas <= '125'}"
                    style=>[[${user.competenciasCiudadanasNivel}]]
                    : </span>
                <span  class="badge rounded-pill custom-badge nivel-2"
                    th:if="${user.competenciasCiudadanas > '125' and user.competenciasCiudadanas <= '155'}"
                    style=>[[${user.competenciasCiudadanasNivel}]]
                    : </span>
                <span  class="badge rounded-pill custom-badge nivel-3"
                    th:if="${user.competenciasCiudadanas > '155' and user.competenciasCiudadanas <= '190'}"
                    style=>[[${user.competenciasCiudadanasNivel}]]
                    : </span>
                <span  class="badge rounded-pill custom-badge nivel-4" th:if="${user.competenciasCiudadanas > '190'}"
                    style=>[[${user.competenciasCiudadanasNivel}]]
                    : </span>
                [[${user.competenciasCiudadanas}]]
            </div>
        </div>
        
        <div >
            <strong>Inglés</strong>
            <div>
                <span  class="badge rounded-pill custom-badge nivel-1"
                    th:if="${user.ingles > '0' and user.ingles <= '125'}"
                    style=>[[${user.inglesNivel}]]
                    : </span>
                <span  class="badge rounded-pill custom-badge nivel-2"
                    th:if="${user.ingles > '125' and user.ingles <= '155'}"
                    style=>[[${user.inglesNivel}]]
                    : </span>
                <span  class="badge rounded-pill custom-badge nivel-3"
                    th:if="${user.ingles > '155' and user.ingles <= '190'}"
                    style=>[[${user.inglesNivel}]]
                    : </span>
                <span  class="badge rounded-pill custom-badge nivel-4" 
					th:if="${user.ingles > '190'}"
                    style=>[[${user.inglesNivel}]]
                    : </span>
                [[${user.ingles}]]
            </div>
        </div>
        
        <div >
            <strong>Formulación de proyectos de Ingeniería</strong>
            <div>
                <span  class="badge rounded-pill custom-badge nivel-1"
                    th:if="${user.proyectosIngenieria > '0' and user.proyectosIngenieria <= '125'}"
                    style=>[[${user.proyectosIngenieriaNivel}]]
                    : </span>
                <span  class="badge rounded-pill custom-badge nivel-2"
                    th:if="${user.proyectosIngenieria > '125' and user.proyectosIngenieria <= '155'}"
                    style=>[[${user.proyectosIngenieriaNivel}]]
                    : </span>
                <span  class="badge rounded-pill custom-badge nivel-3"
                    th:if="${user.proyectosIngenieria > '155' and user.proyectosIngenieria <= '190'}"
                    style=>[[${user.proyectosIngenieriaNivel}]]
                    : </span>
                <span  class="badge rounded-pill custom-badge nivel-4" 
				th:if="${user.proyectosIngenieria > '190'}"
                    style=>[[${user.proyectosIngenieriaNivel}]]
                    : </span>
                [[${user.proyectosIngenieria}]]
            </div>
        </div>
        
        <div>
            <strong>Pensamiento matemático</strong>
            <div>
                <span  class="badge rounded-pill custom-badge nivel-1"
                    th:if="${user.pensamientoMatematico > '0' and user.pensamientoMatematico <= '125'}"
                    style=>[[${user.pensamientoMatematicoNivel}]]
                    : </span>
                <span  class="badge rounded-pill custom-badge nivel-2"
                    th:if="${user.pensamientoMatematico > '125' and user.pensamientoMatematico <= '155'}"
                    style=>[[${user.pensamientoMatematicoNivel}]]
                    : </span>
                <span  class="badge rounded-pill custom-badge nivel-3"
                    th:if="${user.pensamientoMatematico > '155' and user.pensamientoMatematico <= '190'}"
                    style=>[[${user.pensamientoMatematicoNivel}]]
                    : </span>
                <span  class="badge rounded-pill custom-badge nivel-4" 
					th:if="${user.pensamientoMatematico > '190'}"
                    style=>[[${user.pensamientoMatematicoNivel}]]
                    : </span>
                [[${user.pensamientoMatematico}]]
            </div>
        </div>
        
        <div >
            <strong>Diseño de software</strong>
            <div>
                <span  class="badge rounded-pill custom-badge nivel-1"
                    th:if="${user.disenhoSoftware > '0' and user.disenhoSoftware <= '125'}"
                    style=>[[${user.disenhoSoftwareNivel}]]
                    : </span>
                <span  class="badge rounded-pill custom-badge nivel-2"
                    th:if="${user.disenhoSoftware > '125' and user.disenhoSoftware <= '155'}"
                    style=>[[${user.disenhoSoftwareNivel}]]
                    : </span>
                <span  class="badge rounded-pill custom-badge nivel-3"
                    th:if="${user.disenhoSoftware > '155' and user.disenhoSoftware <= '190'}"
                    style=>[[${user.disenhoSoftwareNivel}]]
                    : </span>
                <span  class="badge rounded-pill custom-badge nivel-4" 
					th:if="${user.disenhoSoftware > '190'}"
                    style=>[[${user.disenhoSoftwareNivel}]]
                    : </span>
                [[${user.disenhoSoftware}]]
            </div>
        </div>

							
							<div >
								<strong>Nivel del inglés</strong>
								<div>
									<span class="badge rounded-pill custom-badge"
										>[[${user.nivelDeIngles}]]
										</span>
								</div>
							</div>
						</div>
				</div>
				<div class="card">
				            <h2 class="text-center">Resultado Final</h2>
				            <div id="resultadoFinal" class="resultado-final"></div> <!-- Aquí se mostrará el resultado -->
				        </div>
				
			
				<footer class="bg-dark text-white mt-5 py-3">
				    <div class="container d-flex justify-content-center justify-content-lg-between align-items-center flex-wrap">
				        <p class="text-lg-start flex-grow-1 mb-0">&copy; Marlon Yesid Sánchez Moncada - Derechos Reservados.</p>
				        <div class="social-links d-flex justify-content-center justify-content-lg-end align-items-center">
				            <a href="#"><img th:src="@{/facebook.png}" alt="Facebook" width="40px" height="40px"></a>
				            <a href="#"><img th:src="@{/instagram.png}" alt="Instagram" width="40px" height="40px"></a>
				            <a href="#"><img th:src="@{/twitter.png}" alt="Twitter" width="40px" height="40px"></a>
				            <a href="#"><img th:src="@{/youtube.png}" alt="YouTube" width="40px" height="40px"></a>
				        </div>
				    </div>
				</footer>
				<script>
				        document.addEventListener('DOMContentLoaded', function () {
				            // Obtén el puntaje del usuario y la media de todos los resultados (ejemplo)
				            const puntajeUsuario = [[${user.PuntajeGlobal}]]; // Puntaje del usuario
				            const mediaPuntajes = '125'; // Puedes reemplazar este valor con la media real de todos los usuarios
				
				            // Elemento donde se mostrará el resultado
				            const resultadoFinal = document.getElementById('resultadoFinal');
							// Verificar si el puntaje es "ANULADO"
							            if (puntajeUsuario === 'ANULADO') {
							                resultadoFinal.textContent = 'Anulado';
							                resultadoFinal.style.backgroundColor = '#000';
							            } else {
							                // Convertir puntaje a número para las comparaciones
							                const puntajeNumerico = parseInt(puntajeUsuario, 10);
				            // Condiciones para verificar si está aprobado o reprobado
				            if (puntajeUsuario > mediaPuntajes) {
				                resultadoFinal.textContent = 'Aprobado';
				                resultadoFinal.style.backgroundColor = '#00D147';
				            } else if (puntajeUsuario === mediaPuntajes) {
				                resultadoFinal.textContent = 'Aprobado';
				                resultadoFinal.style.backgroundColor = '#FFF71E';
				            } else {
				                resultadoFinal.textContent = 'Reprobado';
				                resultadoFinal.style.backgroundColor = '#D50113';
				            }
						}
				    });
				    </script>
				
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLR4g5g6j5q72ovIL5uy4ve5g7F5w5F5F5F5F5F5F5"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@2.10.2/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
		
</body>

</html>










